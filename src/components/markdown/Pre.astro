---
import { CopyButton } from '@/components/markdown/copy-button'
import { cn } from '@/lib/utils'

const props = Astro.props
---

<figure class="relative">
  <pre
    class={cn(
    'flex  max-h-[500px] overflow-x-auto',
    props.class,
  )}
    style={{ ...props?.style }}
  >
    <slot />
    {props.__rawString__ && (
      <CopyButton
        value={props.__rawString__}
        className={cn('absolute right-2 top-2', props.__withMeta__ && 'top-16')}
        client:load
      />
    )}
  </pre>
</figure>
